<script>
  function populateFilter() {
    var winesHtml = '';
    var locationTypeHtml = '';
    for (var i = 0; i < markers1.length; i++) {
      var location = markers1[i];
      if (location[4]) {
        for (var j = 0; j < location[4].length; j++) {
          var wine = location[4][j].name.replace("Red ", "");
          wine = wine.replace(/\"/g, '');
          wine = wine.replace(/Early Mountain Vineyards /g, '');
          wine = wine.replace(/ [0-9]{4}/g, '');
          if (!wines.includes(wine.replace(/\s/g, '-'))) {
            wines.push(wine.replace(/\s/g, '-'));
            winesHtml +=
              `
          <div style="display:inline-block;">
            <input id="wine-${j}-${location.id}" type="checkbox" name="${wine}" value="${wine}" onchange="filterMarkers(this.value);" class="beer_input_boxes list-centered">
            <span for="wine-${j}-${location.id}" class="input-label font-type list-centered">${wine}</span>
          </div>
          `;
          }
        }
      }

      if (location[6]) {
        var local = location[6];
        if (!locationType.includes(local.replace(/\s/g, '-'))) {
          locationType.push(local.replace(/\s/g, '-'));
          locationTypeHtml +=
            `
        <div style="display:inline-block;">
          <input id="location-type-${j}-${location.id}" type="checkbox" name="${local}" value="${local}" onchange="filterMarkers(this.value);" class="packaging_input_boxes">
          <span for="location-type-${j}-${location.id}" class="input-label font-type list-centered">${local}</span>
        </div>
        `;
        }
      }
    }
    $("#wine-filter").html(winesHtml);
    $("#local-filter").html(locationTypeHtml);
  }
</script>
